import { useState } from 'react';
import './FAQSection.css';

type FAQItem = { q: string; a: string };

const items: FAQItem[] = [
  {
    q: 'Как рассчитывается стоимость сервиса?',
    a: 'Цена зависит от размера базы пациентов, срока оплаты, уровня поддержки, количества филиалов, доп. WhatsApp-номеров и режима техподдержки. При оплате на 12 месяцев действует скидка 20%. Стоимость удобно посчитать в калькуляторе на странице (слайдеры «База пациентов», «Срок оплаты», «Филиалы», «WhatsApp», «Техподдержка»).',
  },
  {
    q: 'Какие результаты мы увидим после запуска?',
    a: 'Средний рост конверсии в повторный приём составляет +14–20%. Практические кейсы: снижение отмен «день в день» за счёт напоминаний, возврат «потерянных» пациентов через фокус на повторных, экономия 20–40% рабочего времени администраторов за счёт отказа от ручных SMS, рост повторных визитов и лояльности благодаря NPS, отзывам и автоматизации базы.',
  },
  {
    q: 'Насколько сложно внедрение и сколько занимает запуск?',
    a: 'Запуск от 7 дней: предоставляете доступы → синхронизация с МИС → тест → пилот. Есть готовые коннекторы и опыт сложных кастомных внедрений, персональный специалист сопровождает на всех этапах. Поддерживаются 35+ интеграций (включая популярные МИС и YClients).',
  },
  {
    q: 'За счёт чего сервис эффективен и как мы защищены от спама?',
    a: 'Эффективность обеспечивают релевантные сценарии на базе глубокой сегментации (86 параметров пациента) и постоянной обратной связи (NPS/отзывы/аналитика). Сервис включает защиту от спама и работает как оператор персональных данных (регистрационный номер 77-17-005444).',
  },
  {
    q: 'Чем отличаются уровни поддержки и сколько сценариев доступно?',
    a: 'Уровни Base/Advanced/Premium/Expert различаются глубиной сценариев, аналитики и приоритета задач: от базовой помощи и ежемесячного отчёта до стратегических сессий и персонального менеджера. В Premium — до 40 активных сценариев без ограничений по типам, с рекомендованным распределением (сервисные, обратная связь/NPS, удержание/возврат, лояльность, персональные акции) и регулярным аудитом под цели роста; доступны A/B-эксперименты и «овертайм»-услуги.',
  },
];

export default function FAQSection() {
  const [open, setOpen] = useState<number | null>(null);
  
  return (
    <section aria-labelledby="faq-title" className="faq">
      <div className="header">
        <h2 id="faq-title">Частые вопросы</h2>
        <p className="subtitle">Коротко о подключении, результатах и безопасности.</p>
      </div>

      <ul className="list">
        {items.map((item, idx) => (
          <li key={idx} className="item">
            <button
              className="toggle"
              aria-expanded={open === idx}
              aria-controls={`faq-panel-${idx}`}
              onClick={() => setOpen(open === idx ? null : idx)}
            >
              <span className="q">{item.q}</span>
              <span className="icon" aria-hidden>{open === idx ? '−' : '+'}</span>
            </button>
            {open === idx && (
              <div id={`faq-panel-${idx}`} role="region" className="panel">
                <p className="a">{item.a}</p>
              </div>
            )}
          </li>
        ))}
      </ul>

    </section>
  );
}
