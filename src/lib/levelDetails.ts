export interface LevelSection {
  id: string;
  title: string;
  content: {
    total?: string;
    byCategory?: string[];
    description: string;
    features?: string[];
  };
}

export interface LevelDetails {
  scenarios: LevelSection;
  reporting: LevelSection;
  overtime: LevelSection;
  experiments: LevelSection;
  sla: LevelSection;
}

export const LEVEL_DETAILS: Record<string, LevelDetails> = {
  base: {
    scenarios: {
      id: 'scenarios',
      title: 'Сценарии',
      content: {
        total: 'до 12 активных сценариев',
        byCategory: ['Сервисные', 'Обратная связь/NPS', 'Удержание/возврат', 'Лояльность', 'Персональные акции'],
        description: 'Без ограничений по количеству и типам',
        features: [
          'Сервисные — до 4',
          'Обратная связь/NPS — до 2',
          'Удержание/возврат — до 2',
          'Лояльность — до 2',
          'Персональные акции — до 2',
        ],
      },
    },
    reporting: {
      id: 'reporting',
      title: 'Отчётность и встречи',
      content: {
        description: 'Квартальная отчётность и консультации',
        features: [
          'Ежемесячный отчет',
          '60-минутная консультация раз в квартал',
          'Дашборд с метриками эффективности',
        ],
      },
    },
    overtime: {
      id: 'overtime',
      title: 'Овертайм',
      content: {
        description: 'Дополнительные услуги за отдельную плату',
        features: [
          'Интеграции: от 10000₽',
          'Персональные консультации: 3000₽/час',
        ],
      },
    },
    experiments: {
      id: 'experiments',
      title: 'Эксперименты (A/B)',
      content: {
        description: 'Ограниченные возможности для тестирования',
        features: [
          'Не более 1 параллельного эксперимента',
          'Базовые метрики конверсии',
          'Рекомендации по улучшению',
        ],
      },
    },
    sla: {
      id: 'sla',
      title: 'Гарантии качества сервиса',
      content: {
        description: 'Базовый уровень',
        features: [
          'До 10 активных задач в квартал',
          'Скорость выполнения: до 72 часов',
          'Поддержка в рабочее время',
        ],
      },
    },
  },

  advanced: {
    scenarios: {
      id: 'scenarios',
      title: 'Сценарии',
      content: {
        total: 'до 24 активных сценариев (+быстрый запуск по ТЗ клиники)',
        byCategory: ['Сервисные', 'Обратная связь/NPS', 'Удержание/возврат', 'Лояльность', 'Персональные акции'],
        description: 'Без ограничений по количеству и типам',
        features: [
          'Сервисные — до 6',
          'Обратная связь/NPS — до 4',
          'Удержание/возврат — до 5',
          'Лояльность — до 4',
          'Персональные акции — до 5',
        ],
      },
    },
    reporting: {
      id: 'reporting',
      title: 'Отчётность и встречи',
      content: {
        description: 'Ежемесячная отчётность и регулярные встречи',
        features: [
          'Ежемесячный отчёт',
          'Дашборд с метриками эффективности',
          'RFM-анализ',
          '60-минутная консультация раз в месяц',
          'Рекомендации на основе экспертной аналитики',
        ],
      },
    },
    overtime: {
      id: 'overtime',
      title: 'Овертайм',
      content: {
        description: 'Дополнительные услуги за отдельную плату',
        features: [
          'Интеграции: от 10000₽',
          'Персональные консультации: 3000₽/час',
        ],
      },
    },
    experiments: {
      id: 'experiments',
      title: 'Эксперименты (A/B)',
      content: {
        description: 'Ограниченные возможности для тестирования',
        features: [
          'Не более 2 параллельных экспериментов',
          'Анализ метрик конверсии',
          'Рекомендации по улучшению',
        ],
      },
    },
    sla: {
      id: 'sla',
      title: 'Гарантии качества сервиса',
      content: {
        description: 'Расширенный уровень',
        features: [
          'До 10 активных задач в месяц',
          'Время выполнения: до 48 часов',
        ],
      },
    },
  },

  premium: {
    scenarios: {
      id: 'scenarios',
      title: 'Сценарии',
      content: {
        total: 'до 40 активных сценариев (регулярный аудит под цели роста)',
        byCategory: ['Сервисные', 'Обратная связь/NPS', 'Удержание/возврат', 'Лояльность', 'Персональные акции'],
        description: 'Без ограничений по количеству и типам',
        features: [
          'Сервисные — до 10',
          'Обратная связь/NPS — до 6',
          'Удержание/возврат — до 10',
          'Лояльность — до 6',
          'Персональные акции — до 8',
          '+Уникальные сценарии под задачи клиники',
        ],
      },
    },
    reporting: {
      id: 'reporting',
      title: 'Отчётность и встречи',
      content: {
        description: 'Ежемесячная отчётность с рекомендациями и квартальный план роста',
        features: [
          'Ежемесячный отчёт + рекомендации',
          'Дашборд с метриками эффективности',
          'RFM-анализ',
          '60-минутная консультация раз в месяц',
          'Рекомендации на основе экспертной аналитики',
          'Квартальный аудит и план роста',
        ],
      },
    },
    overtime: {
      id: 'overtime',
      title: 'Овертайм',
      content: {
        description: 'Дополнительные услуги за отдельную плату',
        features: [
          'Интеграции: от 10000₽',
          'Персональные консультации: 3000₽/час',
        ],
      },
    },
    experiments: {
      id: 'experiments',
      title: 'Эксперименты (A/B)',
      content: {
        description: 'Расширенные возможности для тестирования',
        features: [
          'До 3 параллельных экспериментов',
          'Анализ метрик конверсии',
          'Рекомендации по улучшению',
        ],
      },
    },
    sla: {
      id: 'sla',
      title: 'Гарантии качества сервиса',
      content: {
        description: 'Премиальный уровень с приоритетной очередью',
        features: [
          'До 20 активных задач/месяц',
          'Скорость выполнения до 24 ч.',
          'Приоритетная очередь',
        ],
      },
    },
  },

  expert: {
    scenarios: {
      id: 'scenarios',
      title: 'Сценарии',
      content: {
        total: 'до 80+ активных сценариев (+быстрый запуск по ТЗ клиники) (регулярный аудит под цели роста)',
        byCategory: ['Сервисные', 'Обратная связь/NPS', 'Удержание/возврат', 'Лояльность', 'Персональные акции'],
        description: 'Без ограничений по количеству и типам',
        features: [
          'Сервисные — до 16',
          'Обратная связь/NPS — до 10',
          'Удержание/возврат — до 14',
          'Лояльность — до 10',
          'Персональные акции — до 10',
          '+Уникальные сценарии под задачи клиники',
        ],
      },
    },
    reporting: {
      id: 'reporting',
      title: 'Отчётность и встречи',
      content: {
        description: 'Еженедельные синки и стратегические сессии с отраслевыми экспертами',
        features: [
          'Еженедельные операционные сессии',
          'Ежемесячный отчёт + рекомендации',
          'Дашборд с метриками эффективности',
          'RFM-анализ',
          '60-минутная консультация раз в месяц',
          'Рекомендации на основе экспертной аналитики',
          'Квартальный аудит и план роста',
          'Стратегические сессии с отраслевым экспертом раз в квартал',
          'Единый отчёт по сети',
        ],
      },
    },
    overtime: {
      id: 'overtime',
      title: 'Овертайм',
      content: {
        description: 'Дополнительные услуги за отдельную плату',
        features: [
          'Интеграции: от 10000₽',
          'Персональные консультации: 3000₽/час',
        ],
      },
    },
    experiments: {
      id: 'experiments',
      title: 'Эксперименты (A/B)',
      content: {
        description: 'Расширенные возможности для тестирования',
        features: [
          'До 4 параллельных экспериментов',
          'Анализ метрик конверсии',
          'Рекомендации по улучшению',
        ],
      },
    },
    sla: {
      id: 'sla',
      title: 'Гарантии качества сервиса',
      content: {
        description: 'Высший уровень приоритета с выделенным каналом',
        features: [
          'До 40 активных задач/месяц',
          'Скорость выполнения до 24 ч.',
          'Приоритетный канал',
        ],
      },
    },
  },
};

export interface SupportLevel {
  id: string;
  title: string;
  price: string;
  features: string[];
}

export const supportLevels: SupportLevel[] = [
  {
    id: 'Эконом',
    title: 'Эконом',
    price: '9 900 ₽/мес',
    features: ['Базовые сценарии', 'Помощь по запросу', 'Ежемесячный отчет'],
  },
  {
    id: 'Актив',
    title: 'Актив',
    price: '29 900 ₽/мес',
    features: [
      'Расширенные сценарии',
      'Персональные рекомендации',
      'Ежемесячная аналитика',
      'Быстрый запуск',
    ],
  },
  {
    id: 'Стандарт',
    title: 'Стандарт',
    price: '59 900 ₽/мес',
    features: [
      'Максимум сценариев',
      'Регулярный аудит',
      'План развития',
      'Приоритет задач',
    ],
  },
  {
    id: 'Эксперт',
    title: 'Эксперт',
    price: '119 900 ₽/мес',
    features: [
      'Стратегические сессии',
      'Персональный менеджер',
      'Для сетей и 100k+ базы',
      'Расширенная поддержка',
    ],
  },
];

export const getLevelDetails = (level: string): LevelDetails | null => {
  return LEVEL_DETAILS[level.toLowerCase()] || null;
};
