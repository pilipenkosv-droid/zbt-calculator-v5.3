<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Тест WhatsApp логики</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background: #0A0F1E; color: white; }
        .test-case { margin: 20px 0; padding: 15px; border: 1px solid #333; border-radius: 8px; }
        .result { color: #FF7A1A; font-weight: bold; }
        .correct { color: #16C784; }
        .incorrect { color: #F59E0B; }
    </style>
</head>
<body>
    <h1>Тест WhatsApp логики</h1>
    
    <div class="test-case">
        <h3>0 номеров WhatsApp</h3>
        <div id="test0"></div>
    </div>
    
    <div class="test-case">
        <h3>1 номер WhatsApp (включен)</h3>
        <div id="test1"></div>
    </div>
    
    <div class="test-case">
        <h3>2 номера WhatsApp (1 включен + 1 доп)</h3>
        <div id="test2"></div>
    </div>
    
    <div class="test-case">
        <h3>3 номера WhatsApp (1 включен + 2 доп)</h3>
        <div id="test3"></div>
    </div>

    <script>
        const WHATSAPP_PRICE_PER_NUMBER = 1500;
        
        function calculateWhatsAppComponent(whatsappNumbers) {
            return WHATSAPP_PRICE_PER_NUMBER * Math.max(0, (whatsappNumbers - 1));
        }
        
        function formatRub(value) {
            return new Intl.NumberFormat('ru-RU').format(Math.max(0, Math.round(value))) + ' ₽';
        }
        
        function testWhatsApp(numbers, expected) {
            const result = calculateWhatsAppComponent(numbers);
            const isCorrect = result === expected;
            return {
                result,
                expected,
                isCorrect,
                status: isCorrect ? 'correct' : 'incorrect'
            };
        }
        
        // Тесты
        const test0 = testWhatsApp(0, 0);
        const test1 = testWhatsApp(1, 0);
        const test2 = testWhatsApp(2, 1500);
        const test3 = testWhatsApp(3, 3000);
        
        // Отображение результатов
        document.getElementById('test0').innerHTML = 
            `${test0.status === 'correct' ? '✅' : '❌'} Результат: <span class="result">${formatRub(test0.result)}</span> (ожидалось: ${formatRub(test0.expected)})`;
        
        document.getElementById('test1').innerHTML = 
            `${test1.status === 'correct' ? '✅' : '❌'} Результат: <span class="result">${formatRub(test1.result)}</span> (ожидалось: ${formatRub(test1.expected)})`;
        
        document.getElementById('test2').innerHTML = 
            `${test2.status === 'correct' ? '✅' : '❌'} Результат: <span class="result">${formatRub(test2.result)}</span> (ожидалось: ${formatRub(test2.expected)})`;
        
        document.getElementById('test3').innerHTML = 
            `${test3.status === 'correct' ? '✅' : '❌'} Результат: <span class="result">${formatRub(test3.result)}</span> (ожидалось: ${formatRub(test3.expected)})`;
    </script>
</body>
</html>
